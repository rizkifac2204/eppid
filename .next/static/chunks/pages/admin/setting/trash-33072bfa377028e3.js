(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6276],{10341:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/setting/trash",function(){return a(16421)}])},16421:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return C}});var n=a(85893),i=a(67294),s=a(6154),r=a(55678),l=a(85945),o=a(67848),c=a(66242),d=a(15861),h=a(65362),u=a(78591),m=a(69107),x=a(13173),p=a(22961),g=a(97097),j=a(84415),f=a(83321),Z=a(50657),b=a(31425),A=a(6514),P=a(37645),S=a(44267),k=a(86886),D=a(87357),v=a(43514),w=function(e){let{open:t,onClose:a,detail:i}=e;return(0,n.jsxs)(Z.Z,{open:t,onClose:a,fullScreen:!0,children:[(0,n.jsx)(P.Z,{children:"Detail Permohonan"}),(0,n.jsx)(A.Z,{children:(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(S.Z,{children:(0,n.jsx)(k.ZP,{container:!0,spacing:2,children:(0,n.jsx)(k.ZP,{item:!0,children:(0,n.jsxs)(k.ZP,{container:!0,children:[(0,n.jsx)(k.ZP,{item:!0,xs:4,children:"Nomor Registrasi / Tiket"}),(0,n.jsxs)(k.ZP,{item:!0,xs:8,children:[": ",i.no_registrasi," /"," ",(0,n.jsx)(d.Z,{variant:"caption",color:"primary",children:i.tiket})]}),(0,n.jsx)(k.ZP,{item:!0,xs:4,children:"Kepada"}),(0,n.jsxs)(k.ZP,{item:!0,xs:8,children:[": ",i.nama_bawaslu]}),(0,n.jsx)(k.ZP,{item:!0,xs:4,children:"Tanggal"}),(0,n.jsxs)(k.ZP,{item:!0,xs:8,children:[": ",(0,n.jsx)(v.V2,{tanggal:i.tanggal_permohonan})]}),(0,n.jsx)(k.ZP,{item:!0,xs:4,children:"Nama"}),(0,n.jsxs)(k.ZP,{item:!0,xs:8,children:[": ",i.nama_pemohon]}),(0,n.jsx)(k.ZP,{item:!0,xs:4,children:"Pekerjaan"}),(0,n.jsxs)(k.ZP,{item:!0,xs:8,children:[": ",i.pekerjaan_pemohon]}),(0,n.jsx)(k.ZP,{item:!0,xs:4,children:"Telp/Hp"}),(0,n.jsxs)(k.ZP,{item:!0,xs:8,children:[": ",i.telp_pemohon]}),(0,n.jsx)(k.ZP,{item:!0,xs:4,children:"Email"}),(0,n.jsxs)(k.ZP,{item:!0,xs:8,children:[": ",i.email_pemohon]}),(0,n.jsx)(k.ZP,{item:!0,xs:4,children:"Alamat"}),(0,n.jsxs)(k.ZP,{item:!0,xs:8,children:[": ",i.alamat_pemohon]}),(0,n.jsx)(k.ZP,{item:!0,xs:4,children:"Rincian Informasi"}),(0,n.jsxs)(k.ZP,{item:!0,xs:8,children:[": ",i.rincian]}),(0,n.jsx)(k.ZP,{item:!0,xs:4,children:"Tujuan Informasi"}),(0,n.jsxs)(k.ZP,{item:!0,xs:8,children:[": ",i.tujuan]}),(0,n.jsx)(k.ZP,{item:!0,xs:4,children:"Cara Terima Informasi"}),(0,n.jsxs)(k.ZP,{item:!0,xs:8,children:[": ",i.cara_terima]}),(0,n.jsx)(k.ZP,{item:!0,xs:4,children:"Cara Dapat Informasi"}),(0,n.jsxs)(k.ZP,{item:!0,xs:8,children:[": ",i.cara_dapat]}),(0,n.jsx)(k.ZP,{item:!0,xs:4,children:"Status"}),(0,n.jsxs)(k.ZP,{item:!0,xs:8,children:[": ",i.status_permohonan]})]})})})}),(0,n.jsx)(D.Z,{p:2,children:(0,n.jsxs)(d.Z,{variant:"caption",children:["Dibuat :"," ",i.created_at&&new Date(i.created_at).toISOString().split("T")[0]]})})]})}),(0,n.jsx)(b.Z,{children:(0,n.jsx)(f.Z,{onClick:a,type:"button",children:"Tutup"})})]})};function _(e){return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(d.Z,{children:[e.row.no_registrasi,(0,n.jsx)("br",{}),(0,n.jsx)(d.Z,{variant:"caption",color:"primary",children:e.row.tiket})]})})}function N(){let e=(0,l.NL)(),[t,a]=(0,i.useState)(10),[d,f]=(0,i.useState)([]),[Z,b]=(0,i.useState)({}),[A,P]=(0,i.useState)(!1),{data:S,isLoading:k}=(0,o.a)({queryKey:["trashs"],queryFn:e=>{let{signal:t}=e;return s.Z.get("/api/setting/trash",{signal:t}).then(e=>e.data).catch(e=>{throw Error(e.response.data.message)})}}),D=t=>{let a=confirm("Hapus Data Secara Permanen?");if(a){let a=r.Am.loading("Tunggu Sebentar...",{autoClose:!1});s.Z.post("/api/setting/trash/",{id:t.id}).then(t=>{setTimeout(()=>{e.invalidateQueries(["trashs"])}),r.Am.update(a,{render:t.data.message,type:"success",isLoading:!1,autoClose:2e3})}).catch(e=>{r.Am.update(a,{render:e.response.data.message,type:"error",isLoading:!1,autoClose:2e3})})}},v=t=>{let a=confirm("Yakin Mengembalikan Data?");if(a){let a=r.Am.loading("Tunggu Sebentar...",{autoClose:!1});s.Z.put("/api/setting/trash/",{id:t.id}).then(t=>{setTimeout(()=>{e.invalidateQueries(["trashs"]),e.invalidateQueries(["permohonans"])}),r.Am.update(a,{render:t.data.message,type:"success",isLoading:!1,autoClose:2e3})}).catch(e=>{r.Am.update(a,{render:e.response.data.message,type:"error",isLoading:!1,autoClose:2e3})})}},N=()=>{P(!1)},C=e=>{b(e),P(!0)},T=()=>{let t=confirm("Yakin Hapus Data Terpilih?");if(t){let t=r.Am.loading("Tunggu Sebentar...",{autoClose:!1});s.Z.delete("/api/setting/trash/",{data:{id:d}}).then(a=>{setTimeout(()=>{e.invalidateQueries(["trashs"])}),r.Am.update(t,{render:a.data.message,type:"success",isLoading:!1,autoClose:2e3})}).catch(e=>{r.Am.update(t,{render:e.response.data.message,type:"error",isLoading:!1,autoClose:2e3})})}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Z,{height:630,children:(0,n.jsx)(u._,{loading:k,autoHeight:!0,rows:S||[],columns:[{field:"no_registrasi",headerName:"Nomor Registrasi",minWidth:100,flex:1,renderCell:_,valueFormatter:e=>{let{value:t}=e;return"".concat(t)}},{field:"tiket",headerName:"Tiket",minWidth:180,hide:!0},{field:"nama_bawaslu",headerName:"Kepada",minWidth:220},{field:"platform",headerName:"Platform",minWidth:180},{field:"provinsi",headerName:"Provinsi",minWidth:180,hide:!0},{field:"nama_pemohon",headerName:"Pemohon",minWidth:180},{field:"telp_pemohon",headerName:"Telp/HP",minWidth:130,hide:!0},{field:"email_pemohon",headerName:"Email",minWidth:130,hide:!0},{field:"tanggal_permohonan",headerName:"Tanggal",minWidth:120,valueGetter:e=>{var t=new Date(e.row.tanggal_permohonan);return t instanceof Date&&!isNaN(t.valueOf())?t.toISOString().split("T")[0]:"-"},hide:!0},{field:"deleted_at",headerName:"Tanggal Hapus",minWidth:120,valueGetter:e=>{var t=new Date(e.row.deleted_at);return t instanceof Date&&!isNaN(t.valueOf())?t.toISOString().split("T")[0]:"-"}},{field:"status_permohonan",headerName:"Status",minWidth:150,hide:!0},{field:"actions",type:"actions",headerName:"Actions",width:200,cellClassName:"actions",getActions:e=>[(0,n.jsx)(h.u,{icon:(0,n.jsx)(p.Z,{}),label:"Detail",onClick:()=>C(e.row)},"0"),(0,n.jsx)(h.u,{icon:(0,n.jsx)(g.Z,{}),label:"Kembalikan",onClick:()=>v(e.row)},"1"),(0,n.jsx)(h.u,{icon:(0,n.jsx)(x.Z,{}),label:"Delete Permanen",onClick:()=>D(e.row)},"2")]}],pageSize:t,onPageSizeChange:e=>a(e),rowsPerPageOptions:[5,10,20,50],checkboxSelection:!0,disableSelectionOnClick:!0,onSelectionModelChange:e=>f(e),components:{Toolbar:j.N},componentsProps:{toolbar:{selectedItem:d,handleDeleteSelected:T,multiSearch:!0}},columnBuffer:8,initialState:{filter:{filterModel:{items:[],quickFilterLogicOperator:m.f.Or}}}})}),(0,n.jsx)(w,{open:A,onClose:N,detail:Z})]})}N.auth=!0,N.breadcrumb=[{path:"/admin",title:"Home"},{path:"/admin/setting/trash",title:"Data Dibuang"}];var C=N},43514:function(e,t,a){"use strict";a.d(t,{xX:function(){return u},V2:function(){return m},dl:function(){return x},Kz:function(){return h},aU:function(){return p},mO:function(){return g}});var n=a(85893),i=a(92592),s=a(67294),r=a(25675),l=a.n(r),o=a(6154),c={src:"/_next/static/media/no-file.1bd1d555.png",height:253,width:320,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAMAAADJ2y/JAAAAKlBMVEVDsvlDsflDsvlDsflDsvlEsvpMaXFDsvpDsflDsvlDsvpEs/tEsvpEs/uH5eN4AAAADnRSTlOHnq0Z0G8AkjF1QFjb+3qv5lsAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAxSURBVAiZFcpJEsAgDASx9ngFwv+/S0VngZI2gXJnVTXGjLUvkMV3F5yI0H/czrhvfxUlANXH5xWdAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:6},d=a(48764).lW;function h(e){let{text:t}=e,[a,r]=(0,s.useState)("");return(0,s.useEffect)(()=>{if(t)return i.toDataURL(t).then(e=>{r(e)}),()=>{}},[t]),(0,n.jsx)("div",{children:(0,n.jsx)("img",{src:a,alt:"QrCode"})})}function u(){let e=new Date,t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),n=e.getFullYear();return t+"/"+a+"/"+n}function m(e){let{tanggal:t}=e;if(t){var a=new Date(t);return a instanceof Date&&!isNaN(a.valueOf())?a.toISOString().split("T")[0]:"-"}}function x(e){let{number:t}=e;return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function p(e){let{image:t,altText:a="Pemohon"}=e,[i,r]=(0,s.useState)(c);return(0,s.useEffect)(()=>{if(!t)return;let e=!0;return o.Z.get("/api/services/file/public/upload/".concat(t),{responseType:"arraybuffer"}).then(e=>{let t=d.from(e.data,"binary").toString("base64");r("data:".concat(e.headers["content-type"],";base64, ").concat(t))}).catch(e=>{console.log(e.response)}),function(){}},[t]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("a",{href:i.src,target:"_blank",children:(0,n.jsx)(l(),{src:i,alt:a,priority:!0,width:280,height:200})})})}function g(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var a=(e=new Date(1e3*e)).getFullYear(),n=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case 0:e=t?"Jan":"Januari";break;case 1:e=t?"Feb":"Februari";break;case 2:e=t?"Mar":"Maret";break;case 3:e=t?"Apr":"April";break;case 4:e="Mei";break;case 5:e=t?"Jun":"Juni";break;case 6:e=t?"Jul":"Juli";break;case 7:e=t?"Agu":"Agustus";break;case 8:e=t?"Sep":"September";break;case 9:e=t?"Okt":"Oktober";break;case 10:e=t?"Nov":"November";break;case 11:e=t?"Des":"Desember"}return e}(e.getMonth(),!0),i=e.getDate();let s=("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2),r=t?"".concat(function(e){switch(e){case 0:e="Minggu";break;case 1:e="Senin";break;case 2:e="Selasa";break;case 3:e="Rabu";break;case 4:e="Kamis";break;case 5:e="Jumat";break;case 6:e="Sabtu"}return e}(e.getDay()),", "):"";return r+i+" "+n+" "+a+" - "+s}},84415:function(e,t,a){"use strict";a.d(t,{D:function(){return Z},N:function(){return f}});var n=a(85893),i=a(83321),s=a(86886),r=a(13173),l=a(9944),o=a(93946),c=a(34386),d=a(42176),h=a(6132),u=a(50853),m=a(54482),x=a(10930),p=a(36433);let g=e=>{let{selectedItem:t,handleDeleteSelected:a}=e;return(0,n.jsxs)(i.Z,{variant:"text",size:"small",startIcon:(0,n.jsx)(r.Z,{}),disabled:0===t.length,onClick:a,children:["Hapus ",t.length," Data Terpilih"]})},j=()=>(0,n.jsx)(i.Z,{sx:{fontSize:12},variant:"text",size:"small",startIcon:(0,n.jsx)(l.Z,{}),onClick:()=>window.open("https://www.adinstruments.com/support/knowledge-base/how-can-comma-separated-list-be-converted-cells-column-lt","_blank"),children:"Bantuan"});function f(e){return(0,n.jsx)(d.D,{children:(0,n.jsxs)(s.ZP,{container:!0,spacing:1,justify:"space-between",children:[(0,n.jsx)(s.ZP,{item:!0,children:(0,n.jsx)(h.S,{})}),(0,n.jsx)(s.ZP,{item:!0,children:(0,n.jsx)(u.M,{})}),(0,n.jsx)(s.ZP,{item:!0,children:(0,n.jsx)(m.L,{})}),(0,n.jsx)(s.ZP,{item:!0,children:(0,n.jsx)(x.Zh,{})}),(0,n.jsx)(s.ZP,{item:!0,children:(0,n.jsx)(j,{})}),(0,n.jsx)(s.ZP,{item:!0,children:(0,n.jsx)(g,{selectedItem:e.selectedItem,handleDeleteSelected:e.handleDeleteSelected})}),(0,n.jsxs)(s.ZP,{item:!0,xs:12,children:[(0,n.jsx)(p.T,{quickFilterParser:e=>e.split(",").map(e=>e.trim()).filter(e=>""!==e)}),e.multiSearch&&(0,n.jsx)(c.Z,{title:"Jika Lebih dari satu pencarian, gunakan tanda koma (,)",children:(0,n.jsx)(o.Z,{size:"small",children:(0,n.jsx)(l.Z,{fontSize:"inherit"})})})]})]})})}function Z(e){return(0,n.jsx)(d.D,{children:(0,n.jsxs)(s.ZP,{container:!0,spacing:1,children:[(0,n.jsx)(s.ZP,{item:!0,children:(0,n.jsx)(h.S,{sx:{fontSize:12}})}),(0,n.jsx)(s.ZP,{item:!0,children:(0,n.jsx)(m.L,{sx:{fontSize:12}})}),(0,n.jsx)(s.ZP,{item:!0,children:(0,n.jsx)(x.Zh,{sx:{fontSize:12}})}),(0,n.jsx)(s.ZP,{item:!0,sx:{mr:3},children:(0,n.jsx)(j,{sx:{fontSize:12}})}),(0,n.jsxs)(s.ZP,{sx:{pt:1,ml:1},children:[(0,n.jsx)(p.T,{quickFilterParser:e=>e.split(",").map(e=>e.trim()).filter(e=>""!==e)}),(0,n.jsx)(c.Z,{title:"Jika Lebih dari satu pencarian, gunakan tanda koma (,)",children:(0,n.jsx)(o.Z,{size:"small",children:(0,n.jsx)(l.Z,{fontSize:"inherit"})})})]})]})})}}},function(e){e.O(0,[9004,6886,7848,5015,5382,3304,39,9774,2888,179],function(){return e(e.s=10341)}),_N_E=e.O()}]);