(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6562],{6965:function(e,a,r){"use strict";var n=r(64836);a.Z=void 0;var i=n(r(64938)),t=r(85893),s=(0,i.default)((0,t.jsx)("path",{d:"M22 5.18 10.59 16.6l-4.24-4.24 1.41-1.41 2.83 2.83 10-10L22 5.18zM12 20c-4.41 0-8-3.59-8-8s3.59-8 8-8c1.57 0 3.04.46 4.28 1.25l1.45-1.45C16.1 2.67 14.13 2 12 2 6.48 2 2 6.48 2 12s4.48 10 10 10c1.73 0 3.36-.44 4.78-1.22l-1.5-1.5c-1 .46-2.11.72-3.28.72zm7-5h-3v2h3v3h2v-3h3v-2h-3v-3h-2v3z"}),"AddTask");a.Z=s},44267:function(e,a,r){"use strict";r.d(a,{Z:function(){return b}});var n=r(87462),i=r(63366),t=r(67294),s=r(86010),l=r(94780),o=r(90948),d=r(71657),u=r(1588),m=r(34867);function c(e){return(0,m.Z)("MuiCardContent",e)}(0,u.Z)("MuiCardContent",["root"]);var p=r(85893);let h=["className","component"],v=e=>{let{classes:a}=e;return(0,l.Z)({root:["root"]},c,a)},g=(0,o.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,a)=>a.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Z=t.forwardRef(function(e,a){let r=(0,d.Z)({props:e,name:"MuiCardContent"}),{className:t,component:l="div"}=r,o=(0,i.Z)(r,h),u=(0,n.Z)({},r,{component:l}),m=v(u);return(0,p.jsx)(g,(0,n.Z)({as:l,className:(0,s.Z)(m.root,t),ownerState:u,ref:a},o))});var b=Z},66242:function(e,a,r){"use strict";r.d(a,{Z:function(){return _}});var n=r(87462),i=r(63366),t=r(67294),s=r(86010),l=r(94780),o=r(90948),d=r(71657),u=r(90629),m=r(1588),c=r(34867);function p(e){return(0,c.Z)("MuiCard",e)}(0,m.Z)("MuiCard",["root"]);var h=r(85893);let v=["className","raised"],g=e=>{let{classes:a}=e;return(0,l.Z)({root:["root"]},p,a)},Z=(0,o.ZP)(u.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,a)=>a.root})(()=>({overflow:"hidden"})),b=t.forwardRef(function(e,a){let r=(0,d.Z)({props:e,name:"MuiCard"}),{className:t,raised:l=!1}=r,o=(0,i.Z)(r,v),u=(0,n.Z)({},r,{raised:l}),m=g(u);return(0,h.jsx)(Z,(0,n.Z)({className:(0,s.Z)(m.root,t),elevation:l?8:void 0,ref:a,ownerState:u},o))});var _=b},18972:function(e,a,r){"use strict";r.d(a,{Z:function(){return P}});var n=r(63366),i=r(87462),t=r(67294),s=r(86010),l=r(94780),o=r(41796),d=r(90948),u=r(71657),m=r(59773),c=r(82607),p=r(58974),h=r(51705),v=r(35097),g=r(84592),Z=r(26336),b=r(1588),_=r(34867);function f(e){return(0,_.Z)("MuiMenuItem",e)}let x=(0,b.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var C=r(85893);let w=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],k=(e,a)=>{let{ownerState:r}=e;return[a.root,r.dense&&a.dense,r.divider&&a.divider,!r.disableGutters&&a.gutters]},j=e=>{let{disabled:a,dense:r,divider:n,disableGutters:t,selected:s,classes:o}=e,d=(0,l.Z)({root:["root",r&&"dense",a&&"disabled",!t&&"gutters",n&&"divider",s&&"selected"]},f,o);return(0,i.Z)({},o,d)},y=(0,d.ZP)(c.Z,{shouldForwardProp:e=>(0,d.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:k})(({theme:e,ownerState:a})=>(0,i.Z)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${x.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,o.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${x.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,o.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${x.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,o.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,o.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${x.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${x.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${v.Z.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${v.Z.inset}`]:{marginLeft:52},[`& .${Z.Z.root}`]:{marginTop:0,marginBottom:0},[`& .${Z.Z.inset}`]:{paddingLeft:36},[`& .${g.Z.root}`]:{minWidth:36}},!a.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},a.dense&&(0,i.Z)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${g.Z.root} svg`]:{fontSize:"1.25rem"}}))),B=t.forwardRef(function(e,a){let r;let l=(0,u.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:o=!1,component:d="li",dense:c=!1,divider:v=!1,disableGutters:g=!1,focusVisibleClassName:Z,role:b="menuitem",tabIndex:_,className:f}=l,x=(0,n.Z)(l,w),k=t.useContext(m.Z),B=t.useMemo(()=>({dense:c||k.dense||!1,disableGutters:g}),[k.dense,c,g]),P=t.useRef(null);(0,p.Z)(()=>{o&&P.current&&P.current.focus()},[o]);let $=(0,i.Z)({},l,{dense:B.dense,divider:v,disableGutters:g}),q=j(l),M=(0,h.Z)(P,a);return l.disabled||(r=void 0!==_?_:-1),(0,C.jsx)(m.Z.Provider,{value:B,children:(0,C.jsx)(y,(0,i.Z)({ref:M,role:b,tabIndex:r,component:d,focusVisibleClassName:(0,s.Z)(q.focusVisible,Z),className:(0,s.Z)(q.root,f)},x,{ownerState:$,classes:q}))})});var P=B},26505:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/setting/users/add",function(){return r(26619)}])},26619:function(e,a,r){"use strict";r.r(a);var n=r(85893),i=r(6154),t=r(55678),s=r(82175),l=r(74231),o=r(67294),d=r(40039),u=r(85945),m=r(67848),c=r(87357),p=r(66242),h=r(44267),v=r(15861),g=r(50135),Z=r(86886),b=r(83321),_=r(94054),f=r(56815),x=r(31085),C=r(18972),w=r(47312),k=r(6965);let j=(e,a,r)=>{let n=t.Am.loading("Tunggu Sebentar...",{autoClose:!1});i.Z.post("/api/setting/users",e).then(e=>{r.invalidateQueries(["users"]),t.Am.update(n,{render:e.data.message,type:"success",isLoading:!1,autoClose:2e3})}).catch(e=>{console.log(e.response);let a="Gagal Proses";404==e.response.status&&(a="Mohon Maaf, Hilangkan atau ganti spesial karakter pada inputan anda");let r=e.response.data.message?e.response.data.message:a;t.Am.update(n,{render:r,type:"error",isLoading:!1,autoClose:2e3})}).then(()=>{a(!1)})},y=l.Ry({level_bawaslu:l.Rx().required("Harus Diisi"),nama_admin:l.Z_().required("Harus Diisi"),telp_admin:l.Z_().required("Harus Diisi"),alamat_admin:l.Z_().required("Alamat Harus Diisi"),provinsi_id:l.Rx().when("level_bawaslu",{is:e=>e>1,then:l.Rx().required("Harus diisi"),otherwise:l.Rx()}),kabkota_id:l.Rx().when("level_bawaslu",{is:e=>e>2,then:l.Rx().required("Harus diisi"),otherwise:l.Rx()}),username:l.Z_().required("Harus Diisi"),password:l.Z_().required("Password Harus Diisi"),passwordConfirm:l.Z_().required("Konfirmasi Password Harus Diisi").oneOf([l.iH("password"),null],"Passwords Tidak Sama")});function B(){let e=(0,u.NL)(),{user:a}=(0,o.useContext)(d.Z),[r,t]=(0,o.useState)([]),[l,B]=(0,o.useState)([]),{data:P,isLoading:$}=(0,m.a)({queryKey:["services","levels"],queryFn:e=>{let{signal:a}=e;return i.Z.get("/api/services/levels",{signal:a}).then(e=>e.data).catch(e=>{throw Error(e.response.data.message)})}}),q=()=>{i.Z.get("/api/services/provinsis").then(e=>{t(e.data)}).catch(e=>{console.log(e)})},M=e=>{i.Z.get("/api/services/provinsis/"+e).then(e=>{B(e.data.kabkota)}).catch(e=>{console.log(e)})},T=(0,s.TA)({initialValues:{level_bawaslu:"",nama_admin:"",telp_admin:"",email_admin:"",alamat_admin:"",provinsi_id:"",kabkota_id:"",username:"",password:"",passwordConfirm:""},validationSchema:y,enableReinitialize:!0,onSubmit:(a,r)=>{let{setSubmitting:n}=r;return j(a,n,e)}});return(0,o.useEffect)(()=>{T.values.level_bawaslu&&(T.setFieldValue("provinsi_id",""),T.setFieldValue("kabkota_id",""),T.values.level_bawaslu>1&&0===r.length&&q())},[T.values.level_bawaslu]),(0,o.useEffect)(()=>{T.setFieldValue("kabkota_id",""),T.values.provinsi_id&&3===T.values.level_bawaslu&&M(T.values.provinsi_id)},[T.values.provinsi_id]),(0,n.jsx)(p.Z,{children:(0,n.jsxs)(h.Z,{children:[(0,n.jsxs)(v.Z,{sx:{fontSize:14},gutterBottom:!0,children:["Tambah User Baru"," "]}),a&&1!==a.level&&(0,n.jsx)(v.Z,{sx:{fontSize:12,fontStyle:"italic"},color:"error",gutterBottom:!0,children:"Saat Ini Belum Tersedia untuk menambah user"}),(0,n.jsx)(c.Z,{children:(0,n.jsx)("form",{onSubmit:T.handleSubmit,children:(0,n.jsxs)(Z.ZP,{container:!0,spacing:2,children:[(0,n.jsxs)(Z.ZP,{item:!0,xs:12,md:6,children:[(0,n.jsxs)(_.Z,{fullWidth:!0,sx:{mt:2},error:T.touched.level_bawaslu&&Boolean(T.errors.level_bawaslu),children:[(0,n.jsx)(w.Z,{children:"Level *"}),(0,n.jsxs)(x.Z,{name:"level_bawaslu",label:"Level *",value:T.values.level_bawaslu,onChange:T.handleChange,onBlur:T.handleBlur,children:[(0,n.jsx)(C.Z,{value:"",children:"Pilih"}),P&&0!==P.length&&P.map(e=>{if(a&&1===a.level)return(0,n.jsx)(C.Z,{value:e.id,children:e.level},e.id)})]}),(0,n.jsx)(f.Z,{children:T.touched.level_bawaslu&&T.errors.level_bawaslu})]}),(0,n.jsx)(g.Z,{fullWidth:!0,required:!0,margin:"normal",label:"Nama",name:"nama_admin",value:T.values.nama_admin,onChange:T.handleChange,onBlur:T.handleBlur,error:T.touched.nama_admin&&Boolean(T.errors.nama_admin),helperText:T.touched.nama_admin&&T.errors.nama_admin}),(0,n.jsx)(g.Z,{fullWidth:!0,required:!0,margin:"normal",label:"Telp/HP",name:"telp_admin",value:T.values.telp_admin,onChange:T.handleChange,onBlur:T.handleBlur,error:T.touched.telp_admin&&Boolean(T.errors.telp_admin),helperText:T.touched.telp_admin&&T.errors.telp_admin}),(0,n.jsx)(g.Z,{fullWidth:!0,type:"email",margin:"normal",label:"Email",name:"email_admin",value:T.values.email_admin,onChange:T.handleChange,onBlur:T.handleBlur,error:T.touched.email_admin&&Boolean(T.errors.email_admin),helperText:T.touched.email_admin&&T.errors.email_admin}),(0,n.jsx)(g.Z,{fullWidth:!0,required:!0,multiline:!0,rows:3,margin:"normal",label:"Alamat",name:"alamat_admin",value:T.values.alamat_admin,onChange:T.handleChange,onBlur:T.handleBlur,error:T.touched.alamat_admin&&Boolean(T.errors.alamat_admin),helperText:T.touched.alamat_admin&&T.errors.alamat_admin})]}),(0,n.jsxs)(Z.ZP,{item:!0,xs:12,md:6,children:[T.values.level_bawaslu>1&&(0,n.jsxs)(_.Z,{fullWidth:!0,sx:{mt:2},error:T.touched.provinsi_id&&Boolean(T.errors.provinsi_id),children:[(0,n.jsx)(w.Z,{children:"Provinsi *"}),(0,n.jsxs)(x.Z,{name:"provinsi_id",label:"Provinsi *",value:T.values.provinsi_id,onChange:T.handleChange,onBlur:T.handleBlur,children:[(0,n.jsx)(C.Z,{value:"",children:"--Pilih--"}),0!==r.length&&r.map((e,a)=>(0,n.jsx)(C.Z,{value:e.id,children:e.provinsi},a))]}),(0,n.jsx)(f.Z,{children:T.touched.provinsi_id&&T.errors.provinsi_id})]}),3===T.values.level_bawaslu&&(0,n.jsxs)(_.Z,{fullWidth:!0,sx:{mt:2},error:T.touched.kabkota_id&&Boolean(T.errors.kabkota_id),children:[(0,n.jsx)(w.Z,{children:"Kabupaten/Kota *"}),(0,n.jsx)(x.Z,{name:"kabkota_id",label:"Kabupaten/Kota *",value:T.values.kabkota_id,onChange:T.handleChange,children:0!==l.length&&l.map(e=>(0,n.jsx)(C.Z,{value:e.id,children:e.kabkota},e.id))}),(0,n.jsx)(f.Z,{children:T.touched.kabkota_id&&T.errors.kabkota_id})]}),(0,n.jsx)(g.Z,{fullWidth:!0,required:!0,margin:"normal",label:"Username",name:"username",value:T.values.username,onChange:T.handleChange,onBlur:T.handleBlur,error:T.touched.username&&Boolean(T.errors.username),helperText:T.touched.username&&T.errors.username}),(0,n.jsx)(g.Z,{fullWidth:!0,margin:"normal",required:!0,type:"password",label:"Password",name:"password",value:T.values.password,onChange:T.handleChange,onBlur:T.handleBlur,error:T.touched.password&&Boolean(T.errors.password),helperText:T.touched.password&&T.errors.password}),(0,n.jsx)(g.Z,{fullWidth:!0,margin:"normal",required:!0,type:"password",label:"Konfirmasi Password",name:"passwordConfirm",value:T.values.passwordConfirm,onChange:T.handleChange,onBlur:T.handleBlur,error:T.touched.passwordConfirm&&Boolean(T.errors.passwordConfirm),helperText:T.touched.passwordConfirm&&T.errors.passwordConfirm})]}),(0,n.jsx)(Z.ZP,{item:!0,children:(0,n.jsx)(b.Z,{disabled:T.isSubmitting,type:"submit",variant:"contained",endIcon:(0,n.jsx)(k.Z,{}),children:"Simpan"})})]})})})]})})}B.auth=!0,B.breadcrumb=[{path:"/admin",title:"Home"},{path:"/admin/setting/users",title:"Users"},{path:"/admin/setting/users/add",title:"Tambah Users"}],a.default=B}},function(e){e.O(0,[9004,6886,8271,7848,9774,2888,179],function(){return e(e.s=26505)}),_N_E=e.O()}]);