(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3514],{77957:function(e,a,r){"use strict";var n=r(64836);a.Z=void 0;var s=n(r(64938)),i=r(85893),t=(0,s.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");a.Z=t},62023:function(e,a,r){"use strict";r.d(a,{Z:function(){return f}});var n=r(63366),s=r(87462),i=r(67294),t=r(86010),o=r(94780),l=r(90948),d=r(71657),u=r(1588),m=r(34867);function c(e){return(0,m.Z)("MuiCardActions",e)}(0,u.Z)("MuiCardActions",["root","spacing"]);var h=r(85893);let p=["disableSpacing","className"],Z=e=>{let{classes:a,disableSpacing:r}=e;return(0,o.Z)({root:["root",!r&&"spacing"]},c,a)},g=(0,l.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,a)=>{let{ownerState:r}=e;return[a.root,!r.disableSpacing&&a.spacing]}})(({ownerState:e})=>(0,s.Z)({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),x=i.forwardRef(function(e,a){let r=(0,d.Z)({props:e,name:"MuiCardActions"}),{disableSpacing:i=!1,className:o}=r,l=(0,n.Z)(r,p),u=(0,s.Z)({},r,{disableSpacing:i}),m=Z(u);return(0,h.jsx)(g,(0,s.Z)({className:(0,t.Z)(m.root,o),ownerState:u,ref:a},l))});var f=x},44267:function(e,a,r){"use strict";r.d(a,{Z:function(){return f}});var n=r(87462),s=r(63366),i=r(67294),t=r(86010),o=r(94780),l=r(90948),d=r(71657),u=r(1588),m=r(34867);function c(e){return(0,m.Z)("MuiCardContent",e)}(0,u.Z)("MuiCardContent",["root"]);var h=r(85893);let p=["className","component"],Z=e=>{let{classes:a}=e;return(0,o.Z)({root:["root"]},c,a)},g=(0,l.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,a)=>a.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),x=i.forwardRef(function(e,a){let r=(0,d.Z)({props:e,name:"MuiCardContent"}),{className:i,component:o="div"}=r,l=(0,s.Z)(r,p),u=(0,n.Z)({},r,{component:o}),m=Z(u);return(0,h.jsx)(g,(0,n.Z)({as:o,className:(0,t.Z)(m.root,i),ownerState:u,ref:a},l))});var f=x},66242:function(e,a,r){"use strict";r.d(a,{Z:function(){return _}});var n=r(87462),s=r(63366),i=r(67294),t=r(86010),o=r(94780),l=r(90948),d=r(71657),u=r(90629),m=r(1588),c=r(34867);function h(e){return(0,c.Z)("MuiCard",e)}(0,m.Z)("MuiCard",["root"]);var p=r(85893);let Z=["className","raised"],g=e=>{let{classes:a}=e;return(0,o.Z)({root:["root"]},h,a)},x=(0,l.ZP)(u.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,a)=>a.root})(()=>({overflow:"hidden"})),f=i.forwardRef(function(e,a){let r=(0,d.Z)({props:e,name:"MuiCard"}),{className:i,raised:o=!1}=r,l=(0,s.Z)(r,Z),u=(0,n.Z)({},r,{raised:o}),m=g(u);return(0,p.jsx)(x,(0,n.Z)({className:(0,t.Z)(m.root,i),elevation:o?8:void 0,ref:a,ownerState:u},l))});var _=f},61609:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/setting/users/[id]",function(){return r(47092)}])},47092:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return B}});var n=r(85893),s=r(11163),i=r(67294),t=r(6154),o=r(55678),l=r(86886),d=r(53724),u=r(54678),m=r(82175),c=r(74231),h=r(66242),p=r(44267),Z=r(15861),g=r(87357),x=r(50135),f=r(83321),_=r(77957);let v=(e,a)=>{let r=o.Am.loading("Tunggu Sebentar...",{autoClose:!1});t.Z.put("/api/setting/users/".concat(e.id),e).then(n=>{a({...e}),o.Am.update(r,{render:n.data.message,type:"success",isLoading:!1,autoClose:2e3})}).catch(e=>{console.log(e.response.data);let a="Gagal Proses";404==e.response.status&&(a="Mohon Maaf, Hilangkan atau ganti spesial karakter pada inputan anda");let n=e.response.data.message?e.response.data.message:a;o.Am.update(r,{render:n,type:"error",isLoading:!1,autoClose:2e3})})},j=c.Ry({nama_admin:c.Z_("Masukan Nama").required("Harus Diisi"),telp_admin:c.Z_("Masukan Telp/HP").required("Telp Harus Diisi"),email_admin:c.Z_("Masukan Email").email("Email Tidak Valid").required("Email Harus Diisi"),alamat_admin:c.Z_().required("Alamat Harus Diisi"),username:c.Z_().required("Username Harus Diisi"),passwordBaru:c.Z_().required("Password Harus Diisi"),passwordConfirm:c.Z_().required("Konfirmasi Password Harus Diisi").oneOf([c.iH("passwordBaru"),null],"Passwords Tidak Sama")});var C=function(e){let{profile:a,setDetail:r}=e,s=Boolean(!a.editable),i=(0,m.TA)({initialValues:{...a,email_admin:a.email_admin?a.email_admin:"",passwordBaru:"",passwordConfirm:""},enableReinitialize:!0,validationSchema:j,onSubmit:e=>v(e,r)});return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(h.Z,{children:(0,n.jsxs)(p.Z,{children:[(0,n.jsx)(Z.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:"Ganti Data User"}),(0,n.jsx)(g.Z,{children:(0,n.jsxs)("form",{onSubmit:i.handleSubmit,children:[(0,n.jsx)(x.Z,{disabled:s,fullWidth:!0,required:!0,margin:"normal",label:"Nama",name:"nama",value:i.values.nama_admin,onChange:i.handleChange,onBlur:i.handleBlur,error:i.touched.nama_admin&&Boolean(i.errors.nama_admin),helperText:i.touched.nama_admin&&i.errors.nama_admin}),(0,n.jsx)(x.Z,{disabled:s,fullWidth:!0,required:!0,margin:"normal",label:"HP / Telp",name:"telp_admin",value:i.values.telp_admin,onChange:i.handleChange,onBlur:i.handleBlur,error:i.touched.telp_admin&&Boolean(i.errors.telp_admin),helperText:i.touched.telp_admin&&i.errors.telp_admin}),(0,n.jsx)(x.Z,{disabled:s,fullWidth:!0,required:!0,margin:"normal",type:"email",label:"Email",name:"email_admin",value:i.values.email_admin,onChange:i.handleChange,onBlur:i.handleBlur,error:i.touched.email_admin&&Boolean(i.errors.email_admin),helperText:i.touched.email_admin&&i.errors.email_admin}),(0,n.jsx)(x.Z,{disabled:s,fullWidth:!0,required:!0,multiline:!0,rows:3,margin:"normal",label:"Alamat",name:"alamat_admin",value:i.values.alamat_admin,onChange:i.handleChange,onBlur:i.handleBlur,error:i.touched.alamat_admin&&Boolean(i.errors.alamat_admin),helperText:i.touched.alamat_admin&&i.errors.alamat_admin}),(0,n.jsx)(x.Z,{disabled:s,fullWidth:!0,required:!0,margin:"normal",label:"Username",name:"username",value:i.values.username,onChange:i.handleChange,onBlur:i.handleBlur,error:i.touched.username&&Boolean(i.errors.username),helperText:i.touched.username&&i.errors.username}),(0,n.jsx)(x.Z,{disabled:s,fullWidth:!0,margin:"normal",required:!0,type:"password",label:"Password",name:"passwordBaru",value:i.values.passwordBaru,onChange:i.handleChange,onBlur:i.handleBlur,error:i.touched.passwordBaru&&Boolean(i.errors.passwordBaru),helperText:i.touched.passwordBaru&&i.errors.passwordBaru}),(0,n.jsx)(x.Z,{disabled:s,fullWidth:!0,margin:"normal",required:!0,type:"password",label:"Konfirmasi Password",name:"passwordConfirm",value:i.values.passwordConfirm,onChange:i.handleChange,onBlur:i.handleBlur,error:i.touched.passwordConfirm&&Boolean(i.errors.passwordConfirm),helperText:i.touched.passwordConfirm&&i.errors.passwordConfirm}),!s&&(0,n.jsx)(f.Z,{type:"submit",variant:"contained",endIcon:(0,n.jsx)(_.Z,{}),children:"Update"})]})})]})})})};function w(){let e=(0,s.useRouter)(),{id:a}=e.query,[r,m]=(0,i.useState)({}),[c,h]=(0,i.useState)(!0);(0,i.useEffect)(()=>(a&&t.Z.get("/api/setting/users/"+a).then(e=>{console.log(e.data),m(e.data)}).catch(a=>{o.Am.error(a.response.data.message),setTimeout(()=>e.push("/admin/setting/users"),1e3)}).then(()=>h(!1)),()=>{}),[a,e]);let p=()=>{let r=confirm("Yakin Hapus Data?");if(r){let r=o.Am.loading("Tunggu Sebentar...",{autoClose:!1});t.Z.delete("/api/setting/users/"+a).then(a=>{o.Am.update(r,{render:a.data.message,type:"success",isLoading:!1,autoClose:2e3}),e.push("/admin/setting/users")}).catch(e=>{o.Am.update(r,{render:e.response.data.message,type:"error",isLoading:!1,autoClose:2e3})})}};return(0,n.jsxs)(l.ZP,{container:!0,spacing:1,children:[(0,n.jsxs)(l.ZP,{item:!0,xs:12,md:3,children:[(0,n.jsx)(d.Z,{loading:c}),!c&&(0,n.jsx)(u.Z,{profile:r,handleDelete:p})]}),(0,n.jsxs)(l.ZP,{item:!0,xs:12,md:9,children:[(0,n.jsx)(d.Z,{loading:c}),!c&&(0,n.jsx)(C,{profile:r,setDetail:m})]})]})}w.auth=!0,w.breadcrumb=[{path:"/admin",title:"Home"},{path:"/admin/setting/users",title:"Users"},{path:"/admin/setting/users/detail",title:"Detail"}];var B=w},54678:function(e,a,r){"use strict";var n=r(85893),s=r(66242),i=r(44267),t=r(15861),o=r(69661),l=r(87357),d=r(62023),u=r(86886),m=r(83321);a.Z=function(e){let{profile:a,handleDelete:r}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(s.Z,{children:[(0,n.jsxs)(i.Z,{children:[(0,n.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",flexWrap:"wrap",mb:3},children:[(0,n.jsx)(o.Z,{alt:a.nama_admin||a.name,src:a.image?a.image:".",sx:{width:160,height:160}}),(0,n.jsx)(t.Z,{variant:"h5",children:a.level})]}),(0,n.jsxs)(u.ZP,{container:!0,wrap:"wrap",sx:{typography:"body2"},spacing:1,children:[(0,n.jsx)(u.ZP,{item:!0,xs:4,children:"Nama"}),(0,n.jsxs)(u.ZP,{item:!0,xs:8,children:[": ",a.nama_admin]}),(0,n.jsx)(u.ZP,{item:!0,xs:4,children:"Unit"}),(0,n.jsxs)(u.ZP,{item:!0,xs:8,children:[": ",a.nama_bawaslu]}),(0,n.jsx)(u.ZP,{item:!0,xs:4,children:"Telp"}),(0,n.jsxs)(u.ZP,{item:!0,xs:8,children:[": ",a.telp_admin]}),(0,n.jsx)(u.ZP,{item:!0,xs:4,children:"Email"}),(0,n.jsxs)(u.ZP,{item:!0,xs:8,children:[": ",a.email_admin]}),(0,n.jsx)(u.ZP,{item:!0,xs:4,children:"Alamat"}),(0,n.jsxs)(u.ZP,{item:!0,xs:8,children:[": ",a.alamat_admin]})]})]}),(0,n.jsx)(d.Z,{children:r&&Boolean(a.editable)&&(0,n.jsx)(m.Z,{size:"small",color:"secondary",onClick:r,children:"Hapus"})})]})})}},53724:function(e,a,r){"use strict";r.d(a,{Z:function(){return i}});var n=r(85893),s=r(88078);function i(e){let{loading:a=!1}=e;return a?(0,n.jsx)(s.Z,{variant:"rectangular",width:"100%",sx:{minHeight:300}}):(0,n.jsx)(n.Fragment,{})}}},function(e){e.O(0,[9004,6886,8271,9774,2888,179],function(){return e(e.s=61609)}),_N_E=e.O()}]);