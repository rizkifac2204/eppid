(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6562],{6965:function(e,a,r){"use strict";var n=r(64836);a.Z=void 0;var t=n(r(64938)),i=r(85893),s=(0,t.default)((0,i.jsx)("path",{d:"M22 5.18 10.59 16.6l-4.24-4.24 1.41-1.41 2.83 2.83 10-10L22 5.18zM12 20c-4.41 0-8-3.59-8-8s3.59-8 8-8c1.57 0 3.04.46 4.28 1.25l1.45-1.45C16.1 2.67 14.13 2 12 2 6.48 2 2 6.48 2 12s4.48 10 10 10c1.73 0 3.36-.44 4.78-1.22l-1.5-1.5c-1 .46-2.11.72-3.28.72zm7-5h-3v2h3v3h2v-3h3v-2h-3v-3h-2v3z"}),"AddTask");a.Z=s},44267:function(e,a,r){"use strict";r.d(a,{Z:function(){return b}});var n=r(87462),t=r(63366),i=r(67294),s=r(86010),l=r(94780),o=r(90948),d=r(71657),u=r(1588),m=r(34867);function c(e){return(0,m.Z)("MuiCardContent",e)}(0,u.Z)("MuiCardContent",["root"]);var p=r(85893);let h=["className","component"],v=e=>{let{classes:a}=e;return(0,l.Z)({root:["root"]},c,a)},g=(0,o.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,a)=>a.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Z=i.forwardRef(function(e,a){let r=(0,d.Z)({props:e,name:"MuiCardContent"}),{className:i,component:l="div"}=r,o=(0,t.Z)(r,h),u=(0,n.Z)({},r,{component:l}),m=v(u);return(0,p.jsx)(g,(0,n.Z)({as:l,className:(0,s.Z)(m.root,i),ownerState:u,ref:a},o))});var b=Z},66242:function(e,a,r){"use strict";r.d(a,{Z:function(){return _}});var n=r(87462),t=r(63366),i=r(67294),s=r(86010),l=r(94780),o=r(90948),d=r(71657),u=r(90629),m=r(1588),c=r(34867);function p(e){return(0,c.Z)("MuiCard",e)}(0,m.Z)("MuiCard",["root"]);var h=r(85893);let v=["className","raised"],g=e=>{let{classes:a}=e;return(0,l.Z)({root:["root"]},p,a)},Z=(0,o.ZP)(u.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,a)=>a.root})(()=>({overflow:"hidden"})),b=i.forwardRef(function(e,a){let r=(0,d.Z)({props:e,name:"MuiCard"}),{className:i,raised:l=!1}=r,o=(0,t.Z)(r,v),u=(0,n.Z)({},r,{raised:l}),m=g(u);return(0,h.jsx)(Z,(0,n.Z)({className:(0,s.Z)(m.root,i),elevation:l?8:void 0,ref:a,ownerState:u},o))});var _=b},18972:function(e,a,r){"use strict";r.d(a,{Z:function(){return P}});var n=r(63366),t=r(87462),i=r(67294),s=r(86010),l=r(94780),o=r(41796),d=r(90948),u=r(71657),m=r(59773),c=r(82607),p=r(58974),h=r(51705),v=r(35097),g=r(84592),Z=r(26336),b=r(1588),_=r(34867);function f(e){return(0,_.Z)("MuiMenuItem",e)}let x=(0,b.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var C=r(85893);let w=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],k=(e,a)=>{let{ownerState:r}=e;return[a.root,r.dense&&a.dense,r.divider&&a.divider,!r.disableGutters&&a.gutters]},j=e=>{let{disabled:a,dense:r,divider:n,disableGutters:i,selected:s,classes:o}=e,d=(0,l.Z)({root:["root",r&&"dense",a&&"disabled",!i&&"gutters",n&&"divider",s&&"selected"]},f,o);return(0,t.Z)({},o,d)},y=(0,d.ZP)(c.Z,{shouldForwardProp:e=>(0,d.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:k})(({theme:e,ownerState:a})=>(0,t.Z)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${x.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,o.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${x.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,o.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${x.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,o.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,o.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${x.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${x.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${v.Z.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${v.Z.inset}`]:{marginLeft:52},[`& .${Z.Z.root}`]:{marginTop:0,marginBottom:0},[`& .${Z.Z.inset}`]:{paddingLeft:36},[`& .${g.Z.root}`]:{minWidth:36}},!a.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},a.dense&&(0,t.Z)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${g.Z.root} svg`]:{fontSize:"1.25rem"}}))),B=i.forwardRef(function(e,a){let r;let l=(0,u.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:o=!1,component:d="li",dense:c=!1,divider:v=!1,disableGutters:g=!1,focusVisibleClassName:Z,role:b="menuitem",tabIndex:_,className:f}=l,x=(0,n.Z)(l,w),k=i.useContext(m.Z),B=i.useMemo(()=>({dense:c||k.dense||!1,disableGutters:g}),[k.dense,c,g]),P=i.useRef(null);(0,p.Z)(()=>{o&&P.current&&P.current.focus()},[o]);let S=(0,t.Z)({},l,{dense:B.dense,divider:v,disableGutters:g}),$=j(l),M=(0,h.Z)(P,a);return l.disabled||(r=void 0!==_?_:-1),(0,C.jsx)(m.Z.Provider,{value:B,children:(0,C.jsx)(y,(0,t.Z)({ref:M,role:b,tabIndex:r,component:d,focusVisibleClassName:(0,s.Z)($.focusVisible,Z),className:(0,s.Z)($.root,f)},x,{ownerState:S,classes:$}))})});var P=B},26505:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/setting/users/add",function(){return r(26619)}])},26619:function(e,a,r){"use strict";r.r(a);var n=r(85893),t=r(6154),i=r(55678),s=r(82175),l=r(74231),o=r(67294),d=r(40039),u=r(87357),m=r(66242),c=r(44267),p=r(15861),h=r(50135),v=r(86886),g=r(83321),Z=r(94054),b=r(56815),_=r(31085),f=r(18972),x=r(47312),C=r(6965);let w=(e,a)=>{let r=i.Am.loading("Tunggu Sebentar...",{autoClose:!1});t.Z.post("/api/setting/users",e).then(e=>{i.Am.update(r,{render:e.data.message,type:"success",isLoading:!1,autoClose:2e3})}).catch(e=>{console.log(e.response);let a="Gagal Proses";404==e.response.status&&(a="Mohon Maaf, Hilangkan atau ganti spesial karakter pada inputan anda");let n=e.response.data.message?e.response.data.message:a;i.Am.update(r,{render:n,type:"error",isLoading:!1,autoClose:2e3})}).then(()=>{a(!1)})},k=l.Ry({level_bawaslu:l.Rx().required("Harus Diisi"),nama_admin:l.Z_().required("Harus Diisi"),telp_admin:l.Z_().required("Harus Diisi"),alamat_admin:l.Z_().required("Alamat Harus Diisi"),provinsi_id:l.Rx().when("level_bawaslu",{is:e=>e>1,then:l.Rx().required("Harus diisi"),otherwise:l.Rx()}),kabkota_id:l.Rx().when("level_bawaslu",{is:e=>e>2,then:l.Rx().required("Harus diisi"),otherwise:l.Rx()}),username:l.Z_().required("Harus Diisi"),password:l.Z_().required("Password Harus Diisi"),passwordConfirm:l.Z_().required("Konfirmasi Password Harus Diisi").oneOf([l.iH("password"),null],"Passwords Tidak Sama")});function j(){let{user:e}=(0,o.useContext)(d.Z),[a,r]=(0,o.useState)({level_bawaslu:"",nama_admin:"",telp_admin:"",email_admin:"",alamat_admin:"",provinsi_id:"",kabkota_id:"",username:"",password:"",passwordConfirm:""}),[i,l]=(0,o.useState)([]),[j,y]=(0,o.useState)([]),[B,P]=(0,o.useState)([]);(0,o.useEffect)(()=>{t.Z.get("/api/services/levels").then(e=>{l(e.data)}).catch(e=>{console.log(e)})},[]);let S=()=>{t.Z.get("/api/services/provinsis").then(e=>{y(e.data)}).catch(e=>{console.log(e)})},$=e=>{t.Z.get("/api/services/provinsis/"+e).then(e=>{P(e.data.kabkota)}).catch(e=>{console.log(e)})},M=(0,s.TA)({initialValues:a,validationSchema:k,enableReinitialize:!0,onSubmit:(e,a)=>{let{setSubmitting:r}=a;return w(e,r)}});return(0,o.useEffect)(()=>{M.values.level_bawaslu&&(M.setFieldValue("provinsi_id",""),M.setFieldValue("kabkota_id",""),M.values.level_bawaslu>1&&0===j.length&&S())},[M.values.level_bawaslu]),(0,o.useEffect)(()=>{M.setFieldValue("kabkota_id",""),M.values.provinsi_id&&3===M.values.level_bawaslu&&$(M.values.provinsi_id)},[M.values.provinsi_id]),(0,n.jsx)(m.Z,{children:(0,n.jsxs)(c.Z,{children:[(0,n.jsxs)(p.Z,{sx:{fontSize:14},gutterBottom:!0,children:["Tambah User Baru"," "]}),e&&1!==e.level&&(0,n.jsx)(p.Z,{sx:{fontSize:12,fontStyle:"italic"},color:"error",gutterBottom:!0,children:"Saat Ini Belum Tersedia untuk menambah user"}),(0,n.jsx)(u.Z,{children:(0,n.jsx)("form",{onSubmit:M.handleSubmit,children:(0,n.jsxs)(v.ZP,{container:!0,spacing:2,children:[(0,n.jsxs)(v.ZP,{item:!0,xs:12,md:6,children:[(0,n.jsxs)(Z.Z,{fullWidth:!0,sx:{mt:2},error:M.touched.level_bawaslu&&Boolean(M.errors.level_bawaslu),children:[(0,n.jsx)(x.Z,{children:"Level *"}),(0,n.jsxs)(_.Z,{name:"level_bawaslu",label:"Level *",value:M.values.level_bawaslu,onChange:M.handleChange,onBlur:M.handleBlur,children:[(0,n.jsx)(f.Z,{value:"",children:"Pilih"}),0!==i.length&&i.map(a=>{if(e&&1===e.level)return(0,n.jsx)(f.Z,{value:a.id,children:a.level},a.id)})]}),(0,n.jsx)(b.Z,{children:M.touched.level_bawaslu&&M.errors.level_bawaslu})]}),(0,n.jsx)(h.Z,{fullWidth:!0,required:!0,margin:"normal",label:"Nama",name:"nama_admin",value:M.values.nama_admin,onChange:M.handleChange,onBlur:M.handleBlur,error:M.touched.nama_admin&&Boolean(M.errors.nama_admin),helperText:M.touched.nama_admin&&M.errors.nama_admin}),(0,n.jsx)(h.Z,{fullWidth:!0,required:!0,margin:"normal",label:"Telp/HP",name:"telp_admin",value:M.values.telp_admin,onChange:M.handleChange,onBlur:M.handleBlur,error:M.touched.telp_admin&&Boolean(M.errors.telp_admin),helperText:M.touched.telp_admin&&M.errors.telp_admin}),(0,n.jsx)(h.Z,{fullWidth:!0,type:"email",margin:"normal",label:"Email",name:"email_admin",value:M.values.email_admin,onChange:M.handleChange,onBlur:M.handleBlur,error:M.touched.email_admin&&Boolean(M.errors.email_admin),helperText:M.touched.email_admin&&M.errors.email_admin}),(0,n.jsx)(h.Z,{fullWidth:!0,required:!0,multiline:!0,rows:3,margin:"normal",label:"Alamat",name:"alamat_admin",value:M.values.alamat_admin,onChange:M.handleChange,onBlur:M.handleBlur,error:M.touched.alamat_admin&&Boolean(M.errors.alamat_admin),helperText:M.touched.alamat_admin&&M.errors.alamat_admin})]}),(0,n.jsxs)(v.ZP,{item:!0,xs:12,md:6,children:[M.values.level_bawaslu>1&&(0,n.jsxs)(Z.Z,{fullWidth:!0,sx:{mt:2},error:M.touched.provinsi_id&&Boolean(M.errors.provinsi_id),children:[(0,n.jsx)(x.Z,{children:"Provinsi *"}),(0,n.jsxs)(_.Z,{name:"provinsi_id",label:"Provinsi *",value:M.values.provinsi_id,onChange:M.handleChange,onBlur:M.handleBlur,children:[(0,n.jsx)(f.Z,{value:"",children:"--Pilih--"}),0!==j.length&&j.map((e,a)=>(0,n.jsx)(f.Z,{value:e.id,children:e.provinsi},a))]}),(0,n.jsx)(b.Z,{children:M.touched.provinsi_id&&M.errors.provinsi_id})]}),3===M.values.level_bawaslu&&(0,n.jsxs)(Z.Z,{fullWidth:!0,sx:{mt:2},error:M.touched.kabkota_id&&Boolean(M.errors.kabkota_id),children:[(0,n.jsx)(x.Z,{children:"Kabupaten/Kota *"}),(0,n.jsx)(_.Z,{name:"kabkota_id",label:"Kabupaten/Kota *",value:M.values.kabkota_id,onChange:M.handleChange,children:0!==B.length&&B.map(e=>(0,n.jsx)(f.Z,{value:e.id,children:e.kabkota},e.id))}),(0,n.jsx)(b.Z,{children:M.touched.kabkota_id&&M.errors.kabkota_id})]}),(0,n.jsx)(h.Z,{fullWidth:!0,required:!0,margin:"normal",label:"Username",name:"username",value:M.values.username,onChange:M.handleChange,onBlur:M.handleBlur,error:M.touched.username&&Boolean(M.errors.username),helperText:M.touched.username&&M.errors.username}),(0,n.jsx)(h.Z,{fullWidth:!0,margin:"normal",required:!0,type:"password",label:"Password",name:"password",value:M.values.password,onChange:M.handleChange,onBlur:M.handleBlur,error:M.touched.password&&Boolean(M.errors.password),helperText:M.touched.password&&M.errors.password}),(0,n.jsx)(h.Z,{fullWidth:!0,margin:"normal",required:!0,type:"password",label:"Konfirmasi Password",name:"passwordConfirm",value:M.values.passwordConfirm,onChange:M.handleChange,onBlur:M.handleBlur,error:M.touched.passwordConfirm&&Boolean(M.errors.passwordConfirm),helperText:M.touched.passwordConfirm&&M.errors.passwordConfirm})]}),(0,n.jsx)(v.ZP,{item:!0,children:(0,n.jsx)(g.Z,{disabled:M.isSubmitting,type:"submit",variant:"contained",endIcon:(0,n.jsx)(C.Z,{}),children:"Simpan"})})]})})})]})})}j.auth=!0,j.breadcrumb=[{path:"/admin",title:"Home"},{path:"/admin/setting/users",title:"Users"},{path:"/admin/setting/users/add",title:"Tambah Users"}],a.default=j}},function(e){e.O(0,[9004,6886,8271,9774,2888,179],function(){return e(e.s=26505)}),_N_E=e.O()}]);