(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2077],{66242:function(e,t,i){"use strict";i.d(t,{Z:function(){return j}});var n=i(87462),r=i(63366),a=i(67294),o=i(86010),s=i(94780),l=i(90948),u=i(71657),d=i(90629),c=i(1588),g=i(34867);function m(e){return(0,g.Z)("MuiCard",e)}(0,c.Z)("MuiCard",["root"]);var h=i(85893);let p=["className","raised"],Z=e=>{let{classes:t}=e;return(0,s.Z)({root:["root"]},m,t)},x=(0,l.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),f=a.forwardRef(function(e,t){let i=(0,u.Z)({props:e,name:"MuiCard"}),{className:a,raised:s=!1}=i,l=(0,r.Z)(i,p),d=(0,n.Z)({},i,{raised:s}),c=Z(d);return(0,h.jsx)(x,(0,n.Z)({className:(0,o.Z)(c.root,a),elevation:s?8:void 0,ref:t,ownerState:d},l))});var j=f},31425:function(e,t,i){"use strict";i.d(t,{Z:function(){return f}});var n=i(63366),r=i(87462),a=i(67294),o=i(86010),s=i(94780),l=i(90948),u=i(71657),d=i(1588),c=i(34867);function g(e){return(0,c.Z)("MuiDialogActions",e)}(0,d.Z)("MuiDialogActions",["root","spacing"]);var m=i(85893);let h=["className","disableSpacing"],p=e=>{let{classes:t,disableSpacing:i}=e;return(0,s.Z)({root:["root",!i&&"spacing"]},g,t)},Z=(0,l.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,!i.disableSpacing&&t.spacing]}})(({ownerState:e})=>(0,r.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),x=a.forwardRef(function(e,t){let i=(0,u.Z)({props:e,name:"MuiDialogActions"}),{className:a,disableSpacing:s=!1}=i,l=(0,n.Z)(i,h),d=(0,r.Z)({},i,{disableSpacing:s}),c=p(d);return(0,m.jsx)(Z,(0,r.Z)({className:(0,o.Z)(c.root,a),ownerState:d,ref:t},l))});var f=x},6514:function(e,t,i){"use strict";i.d(t,{Z:function(){return j}});var n=i(63366),r=i(87462),a=i(67294),o=i(86010),s=i(94780),l=i(90948),u=i(71657),d=i(1588),c=i(34867);function g(e){return(0,c.Z)("MuiDialogContent",e)}(0,d.Z)("MuiDialogContent",["root","dividers"]);var m=i(4472),h=i(85893);let p=["className","dividers"],Z=e=>{let{classes:t,dividers:i}=e;return(0,s.Z)({root:["root",i&&"dividers"]},g,t)},x=(0,l.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,i.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>(0,r.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${m.Z.root} + &`]:{paddingTop:0}})),f=a.forwardRef(function(e,t){let i=(0,u.Z)({props:e,name:"MuiDialogContent"}),{className:a,dividers:s=!1}=i,l=(0,n.Z)(i,p),d=(0,r.Z)({},i,{dividers:s}),c=Z(d);return(0,h.jsx)(x,(0,r.Z)({className:(0,o.Z)(c.root,a),ownerState:d,ref:t},l))});var j=f},37645:function(e,t,i){"use strict";var n=i(87462),r=i(63366),a=i(67294),o=i(86010),s=i(94780),l=i(15861),u=i(90948),d=i(71657),c=i(4472),g=i(34182),m=i(85893);let h=["className","id"],p=e=>{let{classes:t}=e;return(0,s.Z)({root:["root"]},c.a,t)},Z=(0,u.ZP)(l.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),x=a.forwardRef(function(e,t){let i=(0,d.Z)({props:e,name:"MuiDialogTitle"}),{className:s,id:l}=i,u=(0,r.Z)(i,h),c=p(i),{titleId:x=l}=a.useContext(g.Z);return(0,m.jsx)(Z,(0,n.Z)({component:"h2",className:(0,o.Z)(c.root,s),ownerState:i,ref:t,variant:"h6",id:x},u))});t.Z=x},4472:function(e,t,i){"use strict";i.d(t,{a:function(){return a}});var n=i(1588),r=i(34867);function a(e){return(0,r.Z)("MuiDialogTitle",e)}let o=(0,n.Z)("MuiDialogTitle",["root"]);t.Z=o},39478:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/setting/regulasi/kategori",function(){return i(87995)}])},87995:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return w}});var n=i(85893),r=i(67294),a=i(6154),o=i(55678),s=i(66242),l=i(83321),u=i(65362),d=i(78591),c=i(13173),g=i(84415),m=i(82175),h=i(74231),p=i(50135),Z=i(50657),x=i(31425),f=i(6514),j=i(37645);let v=(e,t,i)=>{let n=o.Am.loading("Tunggu Sebentar...",{autoClose:!1});a.Z.post("/api/setting/regulasi/kategori",e).then(e=>{t.fecthKategori(),setTimeout(()=>t.onClose(),1e3),o.Am.update(n,{render:e.data.message,type:e.data.type,isLoading:!1,autoClose:2e3})}).catch(e=>{console.log(e.response.data),o.Am.update(n,{render:e.response.data.message,type:"error",isLoading:!1,autoClose:2e3})}).then(()=>{i(!1)})},S=h.Ry({kategori:h.Z_().required("Harus Diisi")});var b=function(e){let t=(0,m.TA)({initialValues:{kategori:""},enableReinitialize:!0,validationSchema:S,onSubmit:(t,i)=>{let{setSubmitting:n}=i;return v(t,e,n)}});return(0,r.useEffect)(()=>{e.open&&t.resetForm()},[e.open]),(0,n.jsx)(Z.Z,{open:e.open,onClose:e.onClose,fullScreen:e.fullScreen,children:(0,n.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,n.jsx)(j.Z,{children:"Tambah Kategori Regulasi Baru"}),(0,n.jsx)(f.Z,{children:(0,n.jsx)(p.Z,{sx:{mb:3},fullWidth:!0,required:!0,margin:"normal",label:"Nama Kategori",name:"kategori",value:t.values.kategori,onChange:t.handleChange,onBlur:t.handleBlur,error:t.touched.kategori&&Boolean(t.errors.kategori),helperText:t.touched.kategori&&t.errors.kategori})}),(0,n.jsxs)(x.Z,{children:[(0,n.jsx)(l.Z,{disabled:t.isSubmitting,type:"submit",children:"Simpan dan Tutup"}),(0,n.jsx)(l.Z,{onClick:e.onClose,type:"button",children:"Tutup"})]})]})})},k=i(40039);function C(){let{user:e}=(0,r.useContext)(k.Z),[t,i]=(0,r.useState)([]),[m,h]=(0,r.useState)(10),[p,Z]=(0,r.useState)([]),[x,f]=(0,r.useState)(!1);function j(){a.Z.get("/api/setting/regulasi/kategori").then(e=>{i(e.data)}).catch(e=>{o.Am.error("Terjadi Kesalahan")})}(0,r.useEffect)(()=>{j()},[]);let v=e=>{let t=confirm("Yakin Hapus Data?");if(t){let t=o.Am.loading("Tunggu Sebentar...",{autoClose:!1});a.Z.delete("/api/setting/regulasi/kategori",{data:{id:e}}).then(n=>{console.log(n),setTimeout(()=>{i(t=>t.filter(t=>t.id!=e))}),o.Am.update(t,{render:n.data.message,type:"success",isLoading:!1,autoClose:2e3})}).catch(e=>{var i=e.response.data.message||"Terjadi Kesalahan";i.includes("a foreign key")&&(i="Gagal, Harus Menghapus Regulasi Pada Kategori Tersebut Terlebih Dahulu"),o.Am.update(t,{render:i,type:"error",isLoading:!1,autoClose:2e3})})}},S=[{field:"kategori",headerName:"Kategori",minWidth:200},{hide:!(e&&1===e.level),field:"actions",type:"actions",headerName:"Actions",width:200,cellClassName:"actions",getActions:e=>[(0,n.jsx)(u.u,{icon:(0,n.jsx)(c.Z,{}),label:"Delete",onClick:()=>v(e.id)},"3")]}];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.Z,{children:[e&&1===e.level&&(0,n.jsx)(l.Z,{variant:"outlined",sx:{mb:2},onClick:()=>f(!0),children:"Tambah Kategori"}),(0,n.jsx)(d._,{autoHeight:!0,rows:t,columns:S,pageSize:m,onPageSizeChange:e=>h(e),rowsPerPageOptions:[5,10,20],disableSelectionOnClick:!0,checkboxSelection:!0,disableMultipleSelection:!0,isRowSelectable:()=>!1,onSelectionModelChange:e=>Z(e),components:{Toolbar:g.N},componentsProps:{toolbar:{selectedItem:[],handleDeleteSelected:()=>{}}}})]}),(0,n.jsx)(b,{open:x,onClose:()=>f(!1),fecthKategori:j})]})}C.auth=!0,C.breadcrumb=[{path:"/admin",title:"Home"},{path:"/admin/setting/regulasi",title:"Regulasi"},{path:"/admin/setting/regulasi/kategori",title:"Kategori"}];var w=C},84415:function(e,t,i){"use strict";i.d(t,{D:function(){return j},N:function(){return f}});var n=i(85893),r=i(83321),a=i(86886),o=i(13173),s=i(9944),l=i(93946),u=i(34386),d=i(42176),c=i(6132),g=i(50853),m=i(54482),h=i(10930),p=i(36433);let Z=e=>{let{selectedItem:t,handleDeleteSelected:i}=e;return(0,n.jsxs)(r.Z,{variant:"text",size:"small",startIcon:(0,n.jsx)(o.Z,{}),disabled:0===t.length,onClick:i,children:["Hapus ",t.length," Data Terpilih"]})},x=()=>(0,n.jsx)(r.Z,{sx:{fontSize:12},variant:"text",size:"small",startIcon:(0,n.jsx)(s.Z,{}),onClick:()=>window.open("https://www.adinstruments.com/support/knowledge-base/how-can-comma-separated-list-be-converted-cells-column-lt","_blank"),children:"Bantuan"});function f(e){return(0,n.jsx)(d.D,{children:(0,n.jsxs)(a.ZP,{container:!0,spacing:1,justify:"space-between",children:[(0,n.jsx)(a.ZP,{item:!0,children:(0,n.jsx)(c.S,{})}),(0,n.jsx)(a.ZP,{item:!0,children:(0,n.jsx)(g.M,{})}),(0,n.jsx)(a.ZP,{item:!0,children:(0,n.jsx)(m.L,{})}),(0,n.jsx)(a.ZP,{item:!0,children:(0,n.jsx)(h.Zh,{})}),(0,n.jsx)(a.ZP,{item:!0,children:(0,n.jsx)(x,{})}),(0,n.jsx)(a.ZP,{item:!0,children:(0,n.jsx)(Z,{selectedItem:e.selectedItem,handleDeleteSelected:e.handleDeleteSelected})}),(0,n.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,n.jsx)(p.T,{quickFilterParser:e=>e.split(",").map(e=>e.trim()).filter(e=>""!==e)}),e.multiSearch&&(0,n.jsx)(u.Z,{title:"Jika Lebih dari satu pencarian, gunakan tanda koma (,)",children:(0,n.jsx)(l.Z,{size:"small",children:(0,n.jsx)(s.Z,{fontSize:"inherit"})})})]})]})})}function j(e){return(0,n.jsx)(d.D,{children:(0,n.jsxs)(a.ZP,{container:!0,spacing:1,children:[(0,n.jsx)(a.ZP,{item:!0,children:(0,n.jsx)(c.S,{sx:{fontSize:12}})}),(0,n.jsx)(a.ZP,{item:!0,children:(0,n.jsx)(m.L,{sx:{fontSize:12}})}),(0,n.jsx)(a.ZP,{item:!0,children:(0,n.jsx)(h.Zh,{sx:{fontSize:12}})}),(0,n.jsx)(a.ZP,{item:!0,sx:{mr:3},children:(0,n.jsx)(x,{sx:{fontSize:12}})}),(0,n.jsxs)(a.ZP,{sx:{pt:1,ml:1},children:[(0,n.jsx)(p.T,{quickFilterParser:e=>e.split(",").map(e=>e.trim()).filter(e=>""!==e)}),(0,n.jsx)(u.Z,{title:"Jika Lebih dari satu pencarian, gunakan tanda koma (,)",children:(0,n.jsx)(l.Z,{size:"small",children:(0,n.jsx)(s.Z,{fontSize:"inherit"})})})]})]})})}}},function(e){e.O(0,[9004,6886,8271,5015,5382,9774,2888,179],function(){return e(e.s=39478)}),_N_E=e.O()}]);