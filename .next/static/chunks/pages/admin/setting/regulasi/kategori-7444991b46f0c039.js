(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2077],{66242:function(e,t,i){"use strict";i.d(t,{Z:function(){return j}});var r=i(87462),a=i(63366),n=i(67294),o=i(86010),s=i(94780),l=i(90948),u=i(71657),d=i(90629),c=i(1588),g=i(34867);function m(e){return(0,g.Z)("MuiCard",e)}(0,c.Z)("MuiCard",["root"]);var p=i(85893);let h=["className","raised"],Z=e=>{let{classes:t}=e;return(0,s.Z)({root:["root"]},m,t)},x=(0,l.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),f=n.forwardRef(function(e,t){let i=(0,u.Z)({props:e,name:"MuiCard"}),{className:n,raised:s=!1}=i,l=(0,a.Z)(i,h),d=(0,r.Z)({},i,{raised:s}),c=Z(d);return(0,p.jsx)(x,(0,r.Z)({className:(0,o.Z)(c.root,n),elevation:s?8:void 0,ref:t,ownerState:d},l))});var j=f},31425:function(e,t,i){"use strict";i.d(t,{Z:function(){return f}});var r=i(63366),a=i(87462),n=i(67294),o=i(86010),s=i(94780),l=i(90948),u=i(71657),d=i(1588),c=i(34867);function g(e){return(0,c.Z)("MuiDialogActions",e)}(0,d.Z)("MuiDialogActions",["root","spacing"]);var m=i(85893);let p=["className","disableSpacing"],h=e=>{let{classes:t,disableSpacing:i}=e;return(0,s.Z)({root:["root",!i&&"spacing"]},g,t)},Z=(0,l.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,!i.disableSpacing&&t.spacing]}})(({ownerState:e})=>(0,a.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),x=n.forwardRef(function(e,t){let i=(0,u.Z)({props:e,name:"MuiDialogActions"}),{className:n,disableSpacing:s=!1}=i,l=(0,r.Z)(i,p),d=(0,a.Z)({},i,{disableSpacing:s}),c=h(d);return(0,m.jsx)(Z,(0,a.Z)({className:(0,o.Z)(c.root,n),ownerState:d,ref:t},l))});var f=x},6514:function(e,t,i){"use strict";i.d(t,{Z:function(){return j}});var r=i(63366),a=i(87462),n=i(67294),o=i(86010),s=i(94780),l=i(90948),u=i(71657),d=i(1588),c=i(34867);function g(e){return(0,c.Z)("MuiDialogContent",e)}(0,d.Z)("MuiDialogContent",["root","dividers"]);var m=i(4472),p=i(85893);let h=["className","dividers"],Z=e=>{let{classes:t,dividers:i}=e;return(0,s.Z)({root:["root",i&&"dividers"]},g,t)},x=(0,l.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,i.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>(0,a.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${m.Z.root} + &`]:{paddingTop:0}})),f=n.forwardRef(function(e,t){let i=(0,u.Z)({props:e,name:"MuiDialogContent"}),{className:n,dividers:s=!1}=i,l=(0,r.Z)(i,h),d=(0,a.Z)({},i,{dividers:s}),c=Z(d);return(0,p.jsx)(x,(0,a.Z)({className:(0,o.Z)(c.root,n),ownerState:d,ref:t},l))});var j=f},37645:function(e,t,i){"use strict";var r=i(87462),a=i(63366),n=i(67294),o=i(86010),s=i(94780),l=i(15861),u=i(90948),d=i(71657),c=i(4472),g=i(34182),m=i(85893);let p=["className","id"],h=e=>{let{classes:t}=e;return(0,s.Z)({root:["root"]},c.a,t)},Z=(0,u.ZP)(l.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),x=n.forwardRef(function(e,t){let i=(0,d.Z)({props:e,name:"MuiDialogTitle"}),{className:s,id:l}=i,u=(0,a.Z)(i,p),c=h(i),{titleId:x=l}=n.useContext(g.Z);return(0,m.jsx)(Z,(0,r.Z)({component:"h2",className:(0,o.Z)(c.root,s),ownerState:i,ref:t,variant:"h6",id:x},u))});t.Z=x},4472:function(e,t,i){"use strict";i.d(t,{a:function(){return n}});var r=i(1588),a=i(34867);function n(e){return(0,a.Z)("MuiDialogTitle",e)}let o=(0,r.Z)("MuiDialogTitle",["root"]);t.Z=o},39478:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/setting/regulasi/kategori",function(){return i(87995)}])},87995:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return T}});var r=i(85893),a=i(67294),n=i(6154),o=i(55678),s=i(85945),l=i(67848),u=i(66242),d=i(83321),c=i(65362),g=i(78591),m=i(13173),p=i(84415),h=i(82175),Z=i(74231),x=i(50135),f=i(50657),j=i(31425),v=i(6514),b=i(37645);let k=(e,t,i)=>{let r=o.Am.loading("Tunggu Sebentar...",{autoClose:!1});n.Z.post("/api/setting/regulasi/kategori",e).then(e=>{t.fecthKategori(),setTimeout(()=>t.onClose(),1e3),o.Am.update(r,{render:e.data.message,type:e.data.type,isLoading:!1,autoClose:2e3})}).catch(e=>{console.log(e.response.data),o.Am.update(r,{render:e.response.data.message,type:"error",isLoading:!1,autoClose:2e3})}).then(()=>{i(!1)})},S=Z.Ry({kategori:Z.Z_().required("Harus Diisi")});var C=function(e){let t=(0,h.TA)({initialValues:{kategori:""},enableReinitialize:!0,validationSchema:S,onSubmit:(t,i)=>{let{setSubmitting:r}=i;return k(t,e,r)}});return(0,a.useEffect)(()=>{e.open&&t.resetForm()},[e.open]),(0,r.jsx)(f.Z,{open:e.open,onClose:e.onClose,fullScreen:e.fullScreen,children:(0,r.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,r.jsx)(b.Z,{children:"Tambah Kategori Regulasi Baru"}),(0,r.jsx)(v.Z,{children:(0,r.jsx)(x.Z,{sx:{mb:3},fullWidth:!0,required:!0,margin:"normal",label:"Nama Kategori",name:"kategori",value:t.values.kategori,onChange:t.handleChange,onBlur:t.handleBlur,error:t.touched.kategori&&Boolean(t.errors.kategori),helperText:t.touched.kategori&&t.errors.kategori})}),(0,r.jsxs)(j.Z,{children:[(0,r.jsx)(d.Z,{disabled:t.isSubmitting,type:"submit",children:"Simpan dan Tutup"}),(0,r.jsx)(d.Z,{onClick:e.onClose,type:"button",children:"Tutup"})]})]})})},w=i(40039);function P(){let e=(0,s.NL)(),{user:t}=(0,a.useContext)(w.Z),[i,h]=(0,a.useState)(10),[Z,x]=(0,a.useState)([]),[f,j]=(0,a.useState)(!1),{data:v,isLoading:b}=(0,l.a)({queryKey:["regulasis","kategoris"],queryFn:e=>{let{signal:t}=e;return n.Z.get("/api/setting/regulasi/kategori",{signal:t}).then(e=>e.data).catch(e=>{throw Error(e.response.data.message)})}}),k=t=>{let i=confirm("Yakin Hapus Data?");if(i){let i=o.Am.loading("Tunggu Sebentar...",{autoClose:!1});n.Z.delete("/api/setting/regulasi/kategori",{data:{id:t}}).then(t=>{setTimeout(()=>{e.invalidateQueries(["regulasis","kategoris"])}),o.Am.update(i,{render:t.data.message,type:"success",isLoading:!1,autoClose:2e3})}).catch(e=>{var t=e.response.data.message||"Terjadi Kesalahan";t.includes("a foreign key")&&(t="Gagal, Harus Menghapus Regulasi Pada Kategori Tersebut Terlebih Dahulu"),o.Am.update(i,{render:t,type:"error",isLoading:!1,autoClose:2e3})})}},S=[{field:"kategori",headerName:"Kategori",minWidth:200},{hide:!(t&&1===t.level),field:"actions",type:"actions",headerName:"Actions",width:200,cellClassName:"actions",getActions:e=>[(0,r.jsx)(c.u,{icon:(0,r.jsx)(m.Z,{}),label:"Delete",onClick:()=>k(e.id)},"3")]}];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(u.Z,{children:[t&&1===t.level&&(0,r.jsx)(d.Z,{variant:"outlined",sx:{mb:2},onClick:()=>j(!0),children:"Tambah Kategori"}),(0,r.jsx)(g._,{loading:b,autoHeight:!0,rows:v||[],columns:S,pageSize:i,onPageSizeChange:e=>h(e),rowsPerPageOptions:[5,10,20],disableSelectionOnClick:!0,checkboxSelection:!0,disableMultipleSelection:!0,isRowSelectable:()=>!1,onSelectionModelChange:e=>x(e),components:{Toolbar:p.N},componentsProps:{toolbar:{selectedItem:[],handleDeleteSelected:()=>{}}}})]}),(0,r.jsx)(C,{open:f,onClose:()=>j(!1),fecthKategori:()=>e.invalidateQueries(["regulasis","kategoris"])})]})}P.auth=!0,P.breadcrumb=[{path:"/admin",title:"Home"},{path:"/admin/setting/regulasi",title:"Regulasi"},{path:"/admin/setting/regulasi/kategori",title:"Kategori"}];var T=P},84415:function(e,t,i){"use strict";i.d(t,{D:function(){return j},N:function(){return f}});var r=i(85893),a=i(83321),n=i(86886),o=i(13173),s=i(9944),l=i(93946),u=i(34386),d=i(42176),c=i(6132),g=i(50853),m=i(54482),p=i(10930),h=i(36433);let Z=e=>{let{selectedItem:t,handleDeleteSelected:i}=e;return(0,r.jsxs)(a.Z,{variant:"text",size:"small",startIcon:(0,r.jsx)(o.Z,{}),disabled:0===t.length,onClick:i,children:["Hapus ",t.length," Data Terpilih"]})},x=()=>(0,r.jsx)(a.Z,{sx:{fontSize:12},variant:"text",size:"small",startIcon:(0,r.jsx)(s.Z,{}),onClick:()=>window.open("https://www.adinstruments.com/support/knowledge-base/how-can-comma-separated-list-be-converted-cells-column-lt","_blank"),children:"Bantuan"});function f(e){return(0,r.jsx)(d.D,{children:(0,r.jsxs)(n.ZP,{container:!0,spacing:1,justify:"space-between",children:[(0,r.jsx)(n.ZP,{item:!0,children:(0,r.jsx)(c.S,{})}),(0,r.jsx)(n.ZP,{item:!0,children:(0,r.jsx)(g.M,{})}),(0,r.jsx)(n.ZP,{item:!0,children:(0,r.jsx)(m.L,{})}),(0,r.jsx)(n.ZP,{item:!0,children:(0,r.jsx)(p.Zh,{})}),(0,r.jsx)(n.ZP,{item:!0,children:(0,r.jsx)(x,{})}),(0,r.jsx)(n.ZP,{item:!0,children:(0,r.jsx)(Z,{selectedItem:e.selectedItem,handleDeleteSelected:e.handleDeleteSelected})}),(0,r.jsxs)(n.ZP,{item:!0,xs:12,children:[(0,r.jsx)(h.T,{quickFilterParser:e=>e.split(",").map(e=>e.trim()).filter(e=>""!==e)}),e.multiSearch&&(0,r.jsx)(u.Z,{title:"Jika Lebih dari satu pencarian, gunakan tanda koma (,)",children:(0,r.jsx)(l.Z,{size:"small",children:(0,r.jsx)(s.Z,{fontSize:"inherit"})})})]})]})})}function j(e){return(0,r.jsx)(d.D,{children:(0,r.jsxs)(n.ZP,{container:!0,spacing:1,children:[(0,r.jsx)(n.ZP,{item:!0,children:(0,r.jsx)(c.S,{sx:{fontSize:12}})}),(0,r.jsx)(n.ZP,{item:!0,children:(0,r.jsx)(m.L,{sx:{fontSize:12}})}),(0,r.jsx)(n.ZP,{item:!0,children:(0,r.jsx)(p.Zh,{sx:{fontSize:12}})}),(0,r.jsx)(n.ZP,{item:!0,sx:{mr:3},children:(0,r.jsx)(x,{sx:{fontSize:12}})}),(0,r.jsxs)(n.ZP,{sx:{pt:1,ml:1},children:[(0,r.jsx)(h.T,{quickFilterParser:e=>e.split(",").map(e=>e.trim()).filter(e=>""!==e)}),(0,r.jsx)(u.Z,{title:"Jika Lebih dari satu pencarian, gunakan tanda koma (,)",children:(0,r.jsx)(l.Z,{size:"small",children:(0,r.jsx)(s.Z,{fontSize:"inherit"})})})]})]})})}}},function(e){e.O(0,[9004,6886,8271,7848,5015,5382,9774,2888,179],function(){return e(e.s=39478)}),_N_E=e.O()}]);