(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8455],{17373:function(e,t,i){"use strict";var r=i(64836);t.Z=void 0;var n=r(i(64938)),a=i(85893),o=(0,n.default)((0,a.jsx)("path",{d:"M12 11.55C9.64 9.35 6.48 8 3 8v11c3.48 0 6.64 1.35 9 3.55 2.36-2.19 5.52-3.55 9-3.55V8c-3.48 0-6.64 1.35-9 3.55zM12 8c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3z"}),"LocalLibrary");t.Z=o},16023:function(e,t,i){"use strict";var r=i(64836);t.Z=void 0;var n=r(i(64938)),a=i(85893),o=(0,n.default)((0,a.jsx)("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"}),"Print");t.Z=o},22961:function(e,t,i){"use strict";var r=i(64836);t.Z=void 0;var n=r(i(64938)),a=i(85893),o=(0,n.default)((0,a.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.Z=o},31425:function(e,t,i){"use strict";i.d(t,{Z:function(){return g}});var r=i(63366),n=i(87462),a=i(67294),o=i(86010),s=i(94780),l=i(90948),d=i(71657),c=i(1588),u=i(34867);function m(e){return(0,u.Z)("MuiDialogActions",e)}(0,c.Z)("MuiDialogActions",["root","spacing"]);var h=i(85893);let p=["className","disableSpacing"],f=e=>{let{classes:t,disableSpacing:i}=e;return(0,s.Z)({root:["root",!i&&"spacing"]},m,t)},x=(0,l.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,!i.disableSpacing&&t.spacing]}})(({ownerState:e})=>(0,n.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),Z=a.forwardRef(function(e,t){let i=(0,d.Z)({props:e,name:"MuiDialogActions"}),{className:a,disableSpacing:s=!1}=i,l=(0,r.Z)(i,p),c=(0,n.Z)({},i,{disableSpacing:s}),u=f(c);return(0,h.jsx)(x,(0,n.Z)({className:(0,o.Z)(u.root,a),ownerState:c,ref:t},l))});var g=Z},6514:function(e,t,i){"use strict";i.d(t,{Z:function(){return j}});var r=i(63366),n=i(87462),a=i(67294),o=i(86010),s=i(94780),l=i(90948),d=i(71657),c=i(1588),u=i(34867);function m(e){return(0,u.Z)("MuiDialogContent",e)}(0,c.Z)("MuiDialogContent",["root","dividers"]);var h=i(4472),p=i(85893);let f=["className","dividers"],x=e=>{let{classes:t,dividers:i}=e;return(0,s.Z)({root:["root",i&&"dividers"]},m,t)},Z=(0,l.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,i.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>(0,n.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${h.Z.root} + &`]:{paddingTop:0}})),g=a.forwardRef(function(e,t){let i=(0,d.Z)({props:e,name:"MuiDialogContent"}),{className:a,dividers:s=!1}=i,l=(0,r.Z)(i,f),c=(0,n.Z)({},i,{dividers:s}),u=x(c);return(0,p.jsx)(Z,(0,n.Z)({className:(0,o.Z)(u.root,a),ownerState:c,ref:t},l))});var j=g},37645:function(e,t,i){"use strict";var r=i(87462),n=i(63366),a=i(67294),o=i(86010),s=i(94780),l=i(15861),d=i(90948),c=i(71657),u=i(4472),m=i(34182),h=i(85893);let p=["className","id"],f=e=>{let{classes:t}=e;return(0,s.Z)({root:["root"]},u.a,t)},x=(0,d.ZP)(l.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Z=a.forwardRef(function(e,t){let i=(0,c.Z)({props:e,name:"MuiDialogTitle"}),{className:s,id:l}=i,d=(0,n.Z)(i,p),u=f(i),{titleId:Z=l}=a.useContext(m.Z);return(0,h.jsx)(x,(0,r.Z)({component:"h2",className:(0,o.Z)(u.root,s),ownerState:i,ref:t,variant:"h6",id:Z},d))});t.Z=Z},4472:function(e,t,i){"use strict";i.d(t,{a:function(){return a}});var r=i(1588),n=i(34867);function a(e){return(0,n.Z)("MuiDialogTitle",e)}let o=(0,r.Z)("MuiDialogTitle",["root"]);t.Z=o},53457:function(e,t,i){"use strict";i.d(t,{Z:function(){return v}});var r=i(63366),n=i(87462),a=i(67294),o=i(86010),s=i(94780),l=i(90948),d=i(71657),c=i(1588),u=i(34867);function m(e){return(0,u.Z)("MuiFormGroup",e)}(0,c.Z)("MuiFormGroup",["root","row","error"]);var h=i(74423),p=i(15704),f=i(85893);let x=["className","row"],Z=e=>{let{classes:t,row:i,error:r}=e;return(0,s.Z)({root:["root",i&&"row",r&&"error"]},m,t)},g=(0,l.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,i.row&&t.row]}})(({ownerState:e})=>(0,n.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),j=a.forwardRef(function(e,t){let i=(0,d.Z)({props:e,name:"MuiFormGroup"}),{className:a,row:s=!1}=i,l=(0,r.Z)(i,x),c=(0,h.Z)(),u=(0,p.Z)({props:i,muiFormControl:c,states:["error"]}),m=(0,n.Z)({},i,{row:s,error:u.error}),j=Z(m);return(0,f.jsx)(g,(0,n.Z)({className:(0,o.Z)(j.root,a),ownerState:m,ref:t},l))});var v=j},80154:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/permohonan",function(){return i(94692)}])},94692:function(e,t,i){"use strict";i.r(t);var r=i(85893),n=i(67294),a=i(11163),o=i(6154),s=i(55678),l=i(47116),d=i(66242),c=i(15861),u=i(65362),m=i(78591),h=i(69107),p=i(13173),f=i(22961),x=i(16023),Z=i(17373),g=i(84415),j=i(57424),v=i(59982);function w(e){return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(c.Z,{children:[e.row.no_registrasi,(0,r.jsx)("br",{}),(0,r.jsx)(c.Z,{variant:"caption",color:"primary",children:e.row.tiket})]})})}function S(){let e=(0,a.useRouter)(),[t,i]=(0,n.useState)([]),[c,S]=(0,n.useState)(10),[b,P]=(0,n.useState)([]),[k,C]=(0,n.useState)({}),[D,N]=(0,n.useState)(!1),[M,T]=(0,n.useState)({}),_=(0,n.useRef)(),z=(e,t)=>{let i=s.Am.loading("Menyiapkan Format...");o.Z.get("/api/services/profileBawaslu?id="+e).then(e=>{T(e.data),s.Am.dismiss(i),t()}).catch(e=>{console.log(e),s.Am.update(i,{render:"Terjadi Kesalahan",type:"error",isLoading:!1,autoClose:2e3})})},A=()=>{let e=confirm("Yakin Hapus Data Terpilih?");if(e){let e=s.Am.loading("Tunggu Sebentar...",{autoClose:!1});o.Z.delete("/api/permohonan/",{data:b}).then(t=>{setTimeout(()=>{i(e=>e.filter(e=>!b.includes(e.id)))}),s.Am.update(e,{render:t.data.message,type:"success",isLoading:!1,autoClose:2e3})}).catch(t=>{s.Am.update(e,{render:t.response.data.message,type:"error",isLoading:!1,autoClose:2e3})})}},R=e=>{let t=confirm("Yakin Hapus Data?");if(t){let t=s.Am.loading("Tunggu Sebentar...",{autoClose:!1});o.Z.delete("/api/permohonan/"+e).then(r=>{setTimeout(()=>{i(t=>t.filter(t=>t.id!=e))}),s.Am.update(t,{render:r.data.message,type:"success",isLoading:!1,autoClose:2e3})}).catch(e=>{s.Am.update(t,{render:e.response.data.message,type:"error",isLoading:!1,autoClose:2e3})})}},y=(0,l.useReactToPrint)({content:()=>_.current}),L=e=>{setTimeout(()=>{C(t=>e)}),z(e.bawaslu_id,()=>{y()})},I=()=>{N(!0)},F=()=>{N(!1)},W=e=>{setTimeout(()=>{C(t=>e)}),I()};return(0,n.useEffect)(()=>{let e=!0;return o.Z.get("/api/permohonan").then(e=>{setTimeout(()=>{i(t=>e.data)})}).catch(e=>{s.Am.error("Terjadi Kesalahan")}),()=>!1},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{height:630,children:(0,r.jsx)(m._,{autoHeight:!0,rows:t,columns:[{field:"no_registrasi",headerName:"Nomor Registrasi",width:250,renderCell:w,valueFormatter:e=>{let{value:t}=e;return"".concat(t)}},{field:"tiket",headerName:"Tiket",minWidth:180,hide:!0},{field:"nama_bawaslu",headerName:"Kepada",minWidth:250},{field:"platform",headerName:"Platform",minWidth:180,hide:!0},{field:"provinsi",headerName:"Provinsi",minWidth:180,hide:!0},{field:"nama_pemohon",headerName:"Pemohon",minWidth:180},{field:"telp_pemohon",headerName:"Telp/HP",minWidth:130,hide:!0},{field:"email_pemohon",headerName:"Email",minWidth:130,hide:!0},{field:"tanggal_permohonan",headerName:"Tanggal",minWidth:120,valueGetter:e=>{var t=new Date(e.row.tanggal_permohonan);return t instanceof Date&&!isNaN(t.valueOf())?t.toISOString().split("T")[0]:"-"}},{field:"status_permohonan",headerName:"Status",minWidth:150,flex:1,editable:!0},{field:"actions",type:"actions",headerName:"Actions",width:200,cellClassName:"actions",getActions:t=>[(0,r.jsx)(u.u,{icon:(0,r.jsx)(f.Z,{}),label:"Detail",onClick:()=>e.push("/admin/permohonan/"+t.id)},"0"),(0,r.jsx)(u.u,{icon:(0,r.jsx)(f.Z,{}),label:"Detail",onClick:()=>W(t.row),showInMenu:!0},"1"),(0,r.jsx)(u.u,{icon:(0,r.jsx)(Z.Z,{}),label:"Tanggapi",onClick:()=>W(t.row),showInMenu:!0},"2"),(0,r.jsx)(u.u,{icon:(0,r.jsx)(x.Z,{}),label:"Print",onClick:()=>L(t.row),showInMenu:!0},"3"),(0,r.jsx)(u.u,{icon:(0,r.jsx)(p.Z,{}),label:"Delete",onClick:()=>R(t.id),showInMenu:!0},"4")]}],pageSize:c,onPageSizeChange:e=>S(e),rowsPerPageOptions:[5,10,20,50],checkboxSelection:!0,disableSelectionOnClick:!0,onSelectionModelChange:e=>P(e),components:{Toolbar:g.N},componentsProps:{toolbar:{selectedItem:b,handleDeleteSelected:A,multiSearch:!0}},columnBuffer:8,initialState:{filter:{filterModel:{items:[],quickFilterLogicOperator:h.f.Or}}}})}),(0,r.jsx)(j.Z,{open:D,onClose:F,fullScreen:!0,detail:k,setDetail:C,data:t,setData:i}),(0,r.jsx)(v.Z,{ref:_,detail:k,profileBawaslu:M})]})}S.auth=!0,S.breadcrumb=[{path:"/admin",title:"Home"},{path:"/admin/permohonan",title:"Permohonan"}],t.default=S},84415:function(e,t,i){"use strict";i.d(t,{D:function(){return j},N:function(){return g}});var r=i(85893),n=i(83321),a=i(86886),o=i(13173),s=i(9944),l=i(93946),d=i(34386),c=i(42176),u=i(6132),m=i(50853),h=i(54482),p=i(10930),f=i(36433);let x=e=>{let{selectedItem:t,handleDeleteSelected:i}=e;return(0,r.jsxs)(n.Z,{variant:"text",size:"small",startIcon:(0,r.jsx)(o.Z,{}),disabled:0===t.length,onClick:i,children:["Hapus ",t.length," Data Terpilih"]})},Z=()=>(0,r.jsx)(n.Z,{sx:{fontSize:12},variant:"text",size:"small",startIcon:(0,r.jsx)(s.Z,{}),onClick:()=>window.open("https://www.adinstruments.com/support/knowledge-base/how-can-comma-separated-list-be-converted-cells-column-lt","_blank"),children:"Bantuan"});function g(e){return(0,r.jsx)(c.D,{children:(0,r.jsxs)(a.ZP,{container:!0,spacing:1,justify:"space-between",children:[(0,r.jsx)(a.ZP,{item:!0,children:(0,r.jsx)(u.S,{})}),(0,r.jsx)(a.ZP,{item:!0,children:(0,r.jsx)(m.M,{})}),(0,r.jsx)(a.ZP,{item:!0,children:(0,r.jsx)(h.L,{})}),(0,r.jsx)(a.ZP,{item:!0,children:(0,r.jsx)(p.Zh,{})}),(0,r.jsx)(a.ZP,{item:!0,children:(0,r.jsx)(Z,{})}),(0,r.jsx)(a.ZP,{item:!0,children:(0,r.jsx)(x,{selectedItem:e.selectedItem,handleDeleteSelected:e.handleDeleteSelected})}),(0,r.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,r.jsx)(f.T,{quickFilterParser:e=>e.split(",").map(e=>e.trim()).filter(e=>""!==e)}),e.multiSearch&&(0,r.jsx)(d.Z,{title:"Jika Lebih dari satu pencarian, gunakan tanda koma (,)",children:(0,r.jsx)(l.Z,{size:"small",children:(0,r.jsx)(s.Z,{fontSize:"inherit"})})})]})]})})}function j(e){return(0,r.jsx)(c.D,{children:(0,r.jsxs)(a.ZP,{container:!0,spacing:1,children:[(0,r.jsx)(a.ZP,{item:!0,children:(0,r.jsx)(u.S,{sx:{fontSize:12}})}),(0,r.jsx)(a.ZP,{item:!0,children:(0,r.jsx)(h.L,{sx:{fontSize:12}})}),(0,r.jsx)(a.ZP,{item:!0,children:(0,r.jsx)(p.Zh,{sx:{fontSize:12}})}),(0,r.jsx)(a.ZP,{item:!0,sx:{mr:3},children:(0,r.jsx)(Z,{sx:{fontSize:12}})}),(0,r.jsxs)(a.ZP,{sx:{pt:1,ml:1},children:[(0,r.jsx)(f.T,{quickFilterParser:e=>e.split(",").map(e=>e.trim()).filter(e=>""!==e)}),(0,r.jsx)(d.Z,{title:"Jika Lebih dari satu pencarian, gunakan tanda koma (,)",children:(0,r.jsx)(l.Z,{size:"small",children:(0,r.jsx)(s.Z,{fontSize:"inherit"})})})]})]})})}}},function(e){e.O(0,[9004,6886,8271,5015,5382,3304,967,1738,9774,2888,179],function(){return e(e.s=80154)}),_N_E=e.O()}]);